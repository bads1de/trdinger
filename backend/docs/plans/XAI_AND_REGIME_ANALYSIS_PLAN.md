# 高度分析・信頼性強化 計画案 (Advanced Analysis & Reliability Plans)

## はじめに

既存の計画群が「より良い戦略を発見・評価・理解する」ための基盤であるとすれば、次なるステップは**「その評価と理解の『解像度』と『信頼性』を極限まで高める」**ことです。

本文書では、トレーディング機能の実装をスコープ外とし、分析と研究開発の質をさらに深化させるための 3 つの新たな計画案を提案します。

---

## 計画案 D: XAI（説明可能な AI）による戦略の意思決定プロセス可視化

### 1. 目的

「なぜこの戦略は勝てたのか？」という問いに対し、LLM による定性的なサマリーだけでなく、**「なぜこの瞬間に売買を判断したのか？」** という個々の意思決定レベルまで掘り下げて、その根拠を定量的に可視化します。これにより、戦略のブラックボックス性を解消し、開発者が直感的に戦略の挙動を理解・信頼できるようにします。

### 2. なぜ今これが必要か？

複雑な特徴量やモデルを用いると、戦略の挙動が直感に反することがあります。個々のトレードの判断根拠を明確にすることで、過学習による「奇妙なロジック」の発見や、戦略の弱点の特定、そして改善のヒントをより具体的に得ることができます。

### 3. 主要な機能

- **SHAP (SHapley Additive exPlanations) の統合**: バックテスト結果の各トレードポイントにおいて、どの特徴量がその売買判断にどれだけ貢献したか（プラス/マイナス）を計算するロジックを導入します。
- **インタラクティブな分析ダッシュボード**: フロントエンドのバックテスト結果チャート上で、特定の売買ポイントをクリックすると、以下のような詳細情報がポップアップ表示される UI を構築します。
  - **寄与度グラフ**: 「この買い判断は、`RSI`が 30 以下だったことが+0.5、`MACD`がゴールデンクロスしたことが+0.3、`VIX`が急騰していたことが-0.2…のように貢献しました」という内訳を棒グラフで表示。
- **市場レジーム別パフォーマンス分析**: バックテスト期間中の市場を「高ボラティリティ期間」「低ボラティリティ期間」「上昇トレンド」「下降トレンド」などに自動で分類し、各レジームにおける戦略のパフォーマンスと、その際の主要な判断根拠（特徴量）を自動で集計・比較する機能。

---
